NB. " -------------------------------------------------------------------

a =. ?(1+?(1+?5)#4)$100
b =. ?(($a),1+?(1+?3)#4)$100
c =. a.{~?(1+?(1+?3)#4)$#a.

(b+a) -: a +"(-#$a) b
(a+b) -: a +"(-#$a) b
(a+b) -: a +"0 b
(a+b) -: b + (<(#$a)}.$b)$&><"0 a

($c,"0 'x')   -: ($c),2
($c,"1 0 'x') -: ($c)+(-$$c){.1
( c,"1 'x')   -: c,"1 0 'x'
($c,"1 'xyz') -: ($c)+(-$$c){.3
($c,"1 'xyz') -: $c,"(#"1) 'xyz'

(#a) = $<"_1 a
(#b) = $<"_1 b
(#c) = $<"_1 c

'xyz'              -: 'xyz'"99 b
'xyz'              -: 'xyz'"_  b
'xyz'              -: 'xyz'"#  b
(((#b),3)$'xyz')   -: 'xyz'"_1 b
((($b),3)$'xyz')   -: 'xyz'"0 b

'xyz'              -: a 'xyz'"99 b
'xyz'              -: a 'xyz'"_  b
((($a),3)$'xyz')   -: a 'xyz'"0 _ b
(((#a),3)$'xyz')   -: a 'xyz'"_1 _ b
(((}:$b),3)$'xyz') -: a 'xyz'"1 b

dr =: 5!:2
rk =: 1 : ('f=. +"x'; '>2{dr<''f''')

0 0 0 -: + rk
2 _ 2 -: %. rk
_ 1 _ -: $ rk
1 2 3 -: +"1 2 3 rk
3 3 3 -: +"3     rk
3 2 3 -: +"2 3   rk
_ _ _ -: +"1e20 1e30 1e40 rk

1 -: 1:"0 '1'
1 -: + "0 [1
1 -: "."0 '1'

f=: f
(0:"0 -: 0: :. f"0)  i.0
(0:"0 -: 0: :. f"0)~ i.0

'domain error' -:                   o."0 etx 'abc'
'domain error' -: 2 3 4             o."0 etx 'abc'
'domain error' -:       (3 : '  o. y')"0 etx 'abc'
'domain error' -: 2 3 4 (4 : 'x o. y')"0 etx 'abc'

'domain error' -: ex '+"''abc'' '
'domain error' -: ex '+"(<4)    '
'domain error' -: ex '+"3j4     '
'domain error' -: ex '+"1.2     '
'rank error'   -: ex '+"(i.2 3) '
'length error' -: ex '+"(i.4)   '
'length error' -: ex '+" ''''   '


NB. f"r on non-uniform f, on f with side effects ------------------------

f=: 3 : 0
 glob=: y
 1
)

f"1 x=: ?10 5$1e6
glob -: {:x

f"0 x=: <"1 ?10 5$1e6
glob -: {:x

f=: (>/ * ,&# $ ]) i.@(>./)
(i."0 -: f) x=:?10$20

f=: 3 : 0
 t=: 1+t
 if. mm>t do. +:y else. y*2.5-0.5 end.
)

y=: ?41 5$2e6
(t = */$y) , (+:y) -: f"0 y [ t=: 0 [ mm=: ?*/$y
(t =   #y) , (+:y) -: f"1 y [ t=: 0 [ mm=: ?  #y

f=: 4 : 0
 t=: 1+t
 if. mm>t do. x+y else. x+y+-~1p1 end.
)

x=: ?41 5$2e6
y=: ?41 5$2e6
(t = */$x) , (x +     y) -: x f"0   y [ t=: 0 [ mm=: ?*/$x
(t = */$x) , (x +"0 1 y) -: x f"0 1 y [ t=: 0 [ mm=: ?*/$x
(t = */$x) , (x +"1 0 y) -: x f"1 0 y [ t=: 0 [ mm=: ?*/$x
(t = */$x) , (x +"1 0 y) -: x f"1 0 y [ t=: 0 [ mm=: ?*/$x
(t =   #x) , (x +"1   y) -: x f"1   y [ t=: 0 [ mm=: ?  #x

f=: 3 : 'if. 2|{.y do. y else. 10+y end.'
(f"0 x) -: x+10*0=2|     x=: ?41 5$10
(f"1 x) -: x+10*0=2|{."1 x
(f"0 x) -: x+10*0=2|     x=: ?41 5$10
(f"1 x) -: x+10*0=2|{."1 x
(f"0 x) -: x+10*0=2|     x=: ?41 5$10
(f"1 x) -: x+10*0=2|{."1 x

x=: ?41 5$2e6
f=: 3 : ('t=: t,<y'; 'y')
(t -: <"0 ,x) , x -: f"0 x [ t=: ''
(t -: <"1  x) , x -: f"1 x [ t=: ''

f=: 3 : 0
 t=: t,<y
 if. mm>#t do. y else. y+-~1p1 end.
)

(t -: <"0 ,x) , x -: f"0 x [ t=: '' [ mm=: ?*/$x
(t -: <"1  x) , x -: f"1 x [ t=: '' [ mm=: ?  #x

x=: ?41 5$2e6
y=: ?41 5$2e6
f=: 4 : ('t=: t,<x;y'; 'x')

(t -: , x <@;"0   y) , x          -: x f"0   y [ t=: ''
(t -: , x <@;"0 1 y) , x          -: x f"0 1 y [ t=: ''
(t -: , x <@;"1 0 y) , (5 5$"1 x) -: x f"1 0 y [ t=: ''
(t -: , x <@;"1   y) , x          -: x f"1   y [ t=: ''

x=: ?41 5$2e6
y=: ?41 5$2e6
f=: 4 : 0
 t=: t,<x;y
 if. mm>#t do. x else. x+-~1p1 end.
)

(t -: , x <@;"0   y) , x          -: x f"0   y [ t=: '' [ mm=: ?*/$x
(t -: , x <@;"0 1 y) , x          -: x f"0 1 y [ t=: '' [ mm=: ?*/$x
(t -: , x <@;"1 0 y) , (5 5$"1 x) -: x f"1 0 y [ t=: '' [ mm=: ?*/$x
(t -: , x <@;"1   y) , x          -: x f"1   y [ t=: '' [ mm=: ?  #x


NB. f"r zero frames -----------------------------------------------------

(0 7 3 4$0) -: 3 4&$        "1 i.0 7 9 
(0 7 3 4$0) -: (3 : '3 4$y')"1 i.0 7 9 

(0 7    $0) -: 2 3&+"_      "1 i.0 7 9
(0 7    $0) -: (3 : '2 3+y')"1 i.0 7 9

(5 0 3$0) -: (i.5) (+3&$)       "0 1 i.5 0 7
(5 0 3$0) -: (i.5) (4 : 'x+3$y')"0 1 i.5 0 7

(5 0$0) -: 'abcde' (+3&$)       "0 1 i.5 0 7
(5 0$0) -: 'abcde' (4 : 'x+3$y')"0 1 i.5 0 7


NB. model of f"r --------------------------------------------------------

rk    =: #@$
er    =: (0:>.(+rk))`(<.rk) @. (0:<:[)
fr    =: -@er }. $@]
cs    =: -@er {. $@]
boxr  =: ]`(<@$ , [ $: */@[}.])@.(*@#@])
cells =: fr $ cs boxr ,@]

pfx   =: <.&rk
agree =: (pfx {. $@[) -: (pfx {. $@])
frame =: [:`($@([^:(>&rk))) @. agree
rag   =: frame $ ([: */ rk@]}.$@[) # ,@]
lag   =: rag~

mrk   =: >./@:(rk&>)@,
crank =: mrk ,:@]^:(-rk)&.> ]
msh   =: >./@:( $&>)@,
cshape=: <@msh {.&.> ]
asm   =: > @ cshape @ crank

rank  =: 2 : 0
 'mm ll rr'=.3&$&.|.y
 ([: asm [: x&.> mm&cells) : ([: asm ll&cells@[ (lag x&.> rag) rr&cells@])
)

x=: ?2 3$1e6
y=: a.{~?2 3 4$#a.

(<" 1 -: < rank  1) y
(<"_1 -: < rank _1) y

x (;" 1 -: ; rank  1) y
x (;"_1 -: ; rank _1) y

x (;"1 2 -: ; rank 1 2) y


NB. " on atomic verbs ---------------------------------------------------

(a="2 0 b) -: a=($a)$b               [ a=.o.?2 3 4 5$1e6 [ b=.  ?        1e6
(a="0 2 b) -: (4 5$"1 0 a)=2 3$,:b   [ a=.  ?2 3    $1e6 [ b=.r.?    4 5$1e6
(a="2 0 b) -: (2 3$,:a)=4 5$"1 0 b   [ a=.o.?    4 5$1e6 [ b=.  ?2 3    $2
(a="0 2 b) -: (($b)$a)=b             [ a=.  ?        2   [ b=.  ?2 3 4 5$16

(a="2 1 b) -: a=3&#@,:"2[5#"0 b      [ a=.  ?2 3 4 5$2   [ b=.  ?2   4  $16
(a="1 2 b) -: (5#"0 a)=3&#@,:"2 b    [ a=.  ?2 3 4  $16  [ b=.  ?2   4 5$16
(a="2 1 b) -: (3&#@,:"2 a)=5#"0 b    [ a=.o.?2   4 5$16  [ b=.o.?2 3 4  $16
(a="1 2 b) -: (3&#@,:"2[5#"0 a)=b    [ a=.r.?2   4  $1e6 [ b=.r.?2 3 4 5$2

(a<"2 0 b) -: a<($a)$b               [ a=.?2 3 4 5$1e6 [ b=.?        1e6
(a<"0 2 b) -: (4 5$"1 0 a)<2 3$,:b   [ a=.?2 3    $1e6 [ b=.?    4 5$1e6
(a<"2 0 b) -: (2 3$,:a)<4 5$"1 0 b   [ a=.?    4 5$1e6 [ b=.?2 3    $1e6
(a<"0 2 b) -: (($b)$a)<b             [ a=.?        1e6 [ b=.?2 3 4 5$1e6

(a<"2 1 b) -: a<3&#@,:"2[5#"0 b      [ a=.?2 3 4 5$1e6 [ b=.?2   4  $1e6
(a<"1 2 b) -: (5#"0 a)<3&#@,:"2 b    [ a=.?2 3 4  $1e6 [ b=.?2   4 5$1e6
(a<"2 1 b) -: (3&#@,:"2 a)<5#"0 b    [ a=.?2   4 5$1e6 [ b=.?2 3 4  $1e6
(a<"1 2 b) -: (3&#@,:"2[5#"0 a)<b    [ a=.?2   4  $1e6 [ b=.?2 3 4 5$1e6

(a<."2 0 b) -: a<.($a)$b             [ a=.?2 3 4 5$1e6 [ b=.?        1e6
(a<."0 2 b) -: (4 5$"1 0 a)<.2 3$,:b [ a=.?2 3    $1e6 [ b=.?    4 5$1e6
(a<."2 0 b) -: (2 3$,:a)<.4 5$"1 0 b [ a=.?    4 5$1e6 [ b=.?2 3    $1e6
(a<."0 2 b) -: (($b)$a)<.b           [ a=.?        1e6 [ b=.?2 3 4 5$1e6

(a<."2 1 b) -: a<.3&#@,:"2[5#"0 b    [ a=.?2 3 4 5$1e6 [ b=.?2   4  $1e6
(a<."1 2 b) -: (5#"0 a)<.3&#@,:"2 b  [ a=.?2 3 4  $1e6 [ b=.?2   4 5$1e6
(a<."2 1 b) -: (3&#@,:"2 a)<.5#"0 b  [ a=.?2   4 5$1e6 [ b=.?2 3 4  $1e6
(a<."1 2 b) -: (3&#@,:"2[5#"0 a)<.b  [ a=.?2   4  $1e6 [ b=.?2 3 4 5$1e6

(a<:"2 0 b) -: a<:($a)$b             [ a=.?2 3 4 5$1e6 [ b=.?        1e6
(a<:"0 2 b) -: (4 5$"1 0 a)<:2 3$,:b [ a=.?2 3    $1e6 [ b=.?    4 5$1e6
(a<:"2 0 b) -: (2 3$,:a)<:4 5$"1 0 b [ a=.?    4 5$1e6 [ b=.?2 3    $1e6
(a<:"0 2 b) -: (($b)$a)<:b           [ a=.?        1e6 [ b=.?2 3 4 5$1e6

(a<:"2 1 b) -: a<:3&#@,:"2[5#"0 b    [ a=.?2 3 4 5$1e6 [ b=.?2   4  $1e6
(a<:"1 2 b) -: (5#"0 a)<:3&#@,:"2 b  [ a=.?2 3 4  $1e6 [ b=.?2   4 5$1e6
(a<:"2 1 b) -: (3&#@,:"2 a)<:5#"0 b  [ a=.?2   4 5$1e6 [ b=.?2 3 4  $1e6
(a<:"1 2 b) -: (3&#@,:"2[5#"0 a)<:b  [ a=.?2   4  $1e6 [ b=.?2 3 4 5$1e6

(a>"2 0 b) -: a>($a)$b               [ a=.?2 3 4 5$1e6 [ b=.?        1e6
(a>"0 2 b) -: (4 5$"1 0 a)>2 3$,:b   [ a=.?2 3    $1e6 [ b=.?    4 5$1e6
(a>"2 0 b) -: (2 3$,:a)>4 5$"1 0 b   [ a=.?    4 5$1e6 [ b=.?2 3    $1e6
(a>"0 2 b) -: (($b)$a)>b             [ a=.?        1e6 [ b=.?2 3 4 5$1e6

(a>"2 1 b) -: a>3&#@,:"2[5#"0 b      [ a=.?2 3 4 5$1e6 [ b=.?2   4  $1e6
(a>"1 2 b) -: (5#"0 a)>3&#@,:"2 b    [ a=.?2 3 4  $1e6 [ b=.?2   4 5$1e6
(a>"2 1 b) -: (3&#@,:"2 a)>5#"0 b    [ a=.?2   4 5$1e6 [ b=.?2 3 4  $1e6
(a>"1 2 b) -: (3&#@,:"2[5#"0 a)>b    [ a=.?2   4  $1e6 [ b=.?2 3 4 5$1e6

(a>."2 0 b) -: a>.($a)$b             [ a=.?2 3 4 5$1e6 [ b=.?        1e6
(a>."0 2 b) -: (4 5$"1 0 a)>.2 3$,:b [ a=.?2 3    $1e6 [ b=.?    4 5$1e6
(a>."2 0 b) -: (2 3$,:a)>.4 5$"1 0 b [ a=.?    4 5$1e6 [ b=.?2 3    $1e6
(a>."0 2 b) -: (($b)$a)>.b           [ a=.?        1e6 [ b=.?2 3 4 5$1e6

(a>."2 1 b) -: a>.3&#@,:"2[5#"0 b    [ a=.?2 3 4 5$1e6 [ b=.?2   4  $1e6
(a>."1 2 b) -: (5#"0 a)>.3&#@,:"2 b  [ a=.?2 3 4  $1e6 [ b=.?2   4 5$1e6
(a>."2 1 b) -: (3&#@,:"2 a)>.5#"0 b  [ a=.?2   4 5$1e6 [ b=.?2 3 4  $1e6
(a>."1 2 b) -: (3&#@,:"2[5#"0 a)>.b  [ a=.?2   4  $1e6 [ b=.?2 3 4 5$1e6

(a>:"2 0 b) -: a>:($a)$b             [ a=.?2 3 4 5$1e6 [ b=.?        1e6
(a>:"0 2 b) -: (4 5$"1 0 a)>:2 3$,:b [ a=.?2 3    $1e6 [ b=.?    4 5$1e6
(a>:"2 0 b) -: (2 3$,:a)>:4 5$"1 0 b [ a=.?    4 5$1e6 [ b=.?2 3    $1e6
(a>:"0 2 b) -: (($b)$a)>:b           [ a=.?        1e6 [ b=.?2 3 4 5$1e6

(a>:"2 1 b) -: a>:3&#@,:"2[5#"0 b    [ a=.?2 3 4 5$1e6 [ b=.?2   4  $1e6
(a>:"1 2 b) -: (5#"0 a)>:3&#@,:"2 b  [ a=.?2 3 4  $1e6 [ b=.?2   4 5$1e6
(a>:"2 1 b) -: (3&#@,:"2 a)>:5#"0 b  [ a=.?2   4 5$1e6 [ b=.?2 3 4  $1e6
(a>:"1 2 b) -: (3&#@,:"2[5#"0 a)>:b  [ a=.?2   4  $1e6 [ b=.?2 3 4 5$1e6

(a+"2 0 b) -: a+($a)$b               [ a=.?2 3 4 5$1e6 [ b=.?        1e6
(a+"0 2 b) -: (4 5$"1 0 a)+2 3$,:b   [ a=.?2 3    $1e6 [ b=.?    4 5$1e6
(a+"2 0 b) -: (2 3$,:a)+4 5$"1 0 b   [ a=.?    4 5$1e6 [ b=.?2 3    $1e6
(a+"0 2 b) -: (($b)$a)+b             [ a=.?        1e6 [ b=.?2 3 4 5$1e6

(a+"2 1 b) -: a+3&#@,:"2[5#"0 b      [ a=.?2 3 4 5$1e6 [ b=.?2   4  $1e6
(a+"1 2 b) -: (5#"0 a)+3&#@,:"2 b    [ a=.?2 3 4  $1e6 [ b=.?2   4 5$1e6
(a+"2 1 b) -: (3&#@,:"2 a)+5#"0 b    [ a=.?2   4 5$1e6 [ b=.?2 3 4  $1e6
(a+"1 2 b) -: (3&#@,:"2[5#"0 a)+b    [ a=.?2   4  $1e6 [ b=.?2 3 4 5$1e6

(a*"2 0 b) -: a*($a)$b               [ a=.?2 3 4 5$1e6 [ b=.?        1e6
(a*"0 2 b) -: (4 5$"1 0 a)*2 3$,:b   [ a=.?2 3    $1e6 [ b=.?    4 5$1e6
(a*"2 0 b) -: (2 3$,:a)*4 5$"1 0 b   [ a=.?    4 5$1e6 [ b=.?2 3    $1e6
(a*"0 2 b) -: (($b)$a)*b             [ a=.?        1e6 [ b=.?2 3 4 5$1e6

(a*"2 1 b) -: a*3&#@,:"2[5#"0 b      [ a=.?2 3 4 5$1e6 [ b=.?2   4  $1e6
(a*"1 2 b) -: (5#"0 a)*3&#@,:"2 b    [ a=.?2 3 4  $1e6 [ b=.?2   4 5$1e6
(a*"2 1 b) -: (3&#@,:"2 a)*5#"0 b    [ a=.?2   4 5$1e6 [ b=.?2 3 4  $1e6
(a*"1 2 b) -: (3&#@,:"2[5#"0 a)*b    [ a=.?2   4  $1e6 [ b=.?2 3 4 5$1e6

(a-"2 0 b) -: a-($a)$b               [ a=.?2 3 4 5$1e6 [ b=.?        1e6
(a-"0 2 b) -: (4 5$"1 0 a)-2 3$,:b   [ a=.?2 3    $1e6 [ b=.?    4 5$1e6
(a-"2 0 b) -: (2 3$,:a)-4 5$"1 0 b   [ a=.?    4 5$1e6 [ b=.?2 3    $1e6
(a-"0 2 b) -: (($b)$a)-b             [ a=.?        1e6 [ b=.?2 3 4 5$1e6

(a-"2 1 b) -: a-3&#@,:"2[5#"0 b      [ a=.?2 3 4 5$1e6 [ b=.?2   4  $1e6
(a-"1 2 b) -: (5#"0 a)-3&#@,:"2 b    [ a=.?2 3 4  $1e6 [ b=.?2   4 5$1e6
(a-"2 1 b) -: (3&#@,:"2 a)-5#"0 b    [ a=.?2   4 5$1e6 [ b=.?2 3 4  $1e6
(a-"1 2 b) -: (3&#@,:"2[5#"0 a)-b    [ a=.?2   4  $1e6 [ b=.?2 3 4 5$1e6

(a%"2 0 b) -: a%($a)$b               [ a=.?2 3 4 5$1e6 [ b=.?        1e6
(a%"0 2 b) -: (4 5$"1 0 a)%2 3$,:b   [ a=.?2 3    $1e6 [ b=.?    4 5$1e6
(a%"2 0 b) -: (2 3$,:a)%4 5$"1 0 b   [ a=.?    4 5$1e6 [ b=.?2 3    $1e6
(a%"0 2 b) -: (($b)$a)%b             [ a=.?        1e6 [ b=.?2 3 4 5$1e6

(a%"2 1 b) -: a%3&#@,:"2[5#"0 b      [ a=.?2 3 4 5$1e6 [ b=.?2   4  $1e6
(a%"1 2 b) -: (5#"0 a)%3&#@,:"2 b    [ a=.?2 3 4  $1e6 [ b=.?2   4 5$1e6
(a%"2 1 b) -: (3&#@,:"2 a)%5#"0 b    [ a=.?2   4 5$1e6 [ b=.?2 3 4  $1e6
(a%"1 2 b) -: (3&#@,:"2[5#"0 a)%b    [ a=.?2   4  $1e6 [ b=.?2 3 4 5$1e6

(a%:"2 0 b) -: a%:($a)$b             [ a=.1+?2 3 4 5$20 [ b=.?        1e6
(a%:"0 2 b) -: (4 5$"1 0 a)%:2 3$,:b [ a=.1+?2 3    $20 [ b=.?    4 5$1e6
(a%:"2 0 b) -: (2 3$,:a)%:4 5$"1 0 b [ a=.1+?    4 5$20 [ b=.?2 3    $1e6
(a%:"0 2 b) -: (($b)$a)%:b           [ a=.1+?        20 [ b=.?2 3 4 5$1e6

(a%:"2 1 b) -: a%:3&#@,:"2[5#"0 b    [ a=.1+?2 3 4 5$20 [ b=.?2   4  $1e6
(a%:"1 2 b) -: (5#"0 a)%:3&#@,:"2 b  [ a=.1+?2 3 4  $20 [ b=.?2   4 5$1e6
(a%:"2 1 b) -: (3&#@,:"2 a)%:5#"0 b  [ a=.1+?2   4 5$20 [ b=.?2 3 4  $1e6
(a%:"1 2 b) -: (3&#@,:"2[5#"0 a)%:b  [ a=.1+?2   4  $20 [ b=.?2 3 4 5$1e6

(a~:"2 0 b) -: a~:($a)$b             [ a=.o.?2 3 4 5$16 [ b=.  ?        16
(a~:"0 2 b) -: (4 5$"1 0 a)~:2 3$,:b [ a=.  ?2 3    $16 [ b=.r.?    4 5$16
(a~:"2 0 b) -: (2 3$,:a)~:4 5$"1 0 b [ a=.o.?    4 5$16 [ b=.  ?2 3    $2
(a~:"0 2 b) -: (($b)$a)~:b           [ a=.  ?        2  [ b=.  ?2 3 4 5$16

(a~:"2 1 b) -: a~:3&#@,:"2[5#"0 b    [ a=.  ?2 3 4 5$2   [ b=.  ?2   4  $16
(a~:"1 2 b) -: (5#"0 a)~:3&#@,:"2 b  [ a=.  ?2 3 4  $16  [ b=.  ?2   4 5$16
(a~:"2 1 b) -: (3&#@,:"2 a)~:5#"0 b  [ a=.o.?2   4 5$16  [ b=.o.?2 3 4  $16
(a~:"1 2 b) -: (3&#@,:"2[5#"0 a)~:b  [ a=.r.?2   4  $16  [ b=.r.?2 3 4 5$2

(a-"2 0 b) -: i.2 0 4 5   [ a=.?2 0 4 5$16 [ b=.?        16
(a-"0 2 b) -: i.2 0 4 5   [ a=.?2 0    $16 [ b=.?    4 5$16
(a-"2 0 b) -: i.2 0 4 5   [ a=.?    4 5$16 [ b=.?2 0    $16
(a-"0 2 b) -: i.2 0 4 5   [ a=.?        16 [ b=.?2 0 4 5$16

(a-"2 1 b) -: i.2 0 0 5   [ a=.?2 0 0 5$16 [ b=.?2   0  $16
(a-"1 2 b) -: i.2 0 0 5   [ a=.?2 0 0  $16 [ b=.?2   0 5$16
(a-"2 1 b) -: i.2 0 0 5   [ a=.?2   0 5$16 [ b=.?2 0 0  $16
(a-"1 2 b) -: i.2 0 0 5   [ a=.?2   0  $16 [ b=.?2 0 0 5$16

(a-b) -: a-"0 b [ a=.?2 3 4$1e6 [ b=.?2 3 4$1e6
(a-b) -: a-"1 b [ a=.?2 3 4$1e6 [ b=.?2 3 4$1e6
(a-b) -: a-"2 b [ a=.?2 3 4$1e6 [ b=.?2 3 4$1e6
(a-b) -: a-"3 b [ a=.?2 3 4$1e6 [ b=.?2 3 4$1e6
(a-b) -: a-"_ b [ a=.?2 3 4$1e6 [ b=.?2 3 4$1e6

(a-b) -: a-"0 b [ a=.o.?1e6 [ b=.?2 3 4$1e6
(a-b) -: a-"1 b [ a=.o.?1e6 [ b=.?2 3 4$1e6
(a-b) -: a-"2 b [ a=.o.?1e6 [ b=.?2 3 4$1e6
(a-b) -: a-"3 b [ a=.o.?1e6 [ b=.?2 3 4$1e6
(a-b) -: a-"_ b [ a=.o.?1e6 [ b=.?2 3 4$1e6

(b-a) -: b-"0 a [ a=.o.?1e6 [ b=.?2 3 4$1e6
(b-a) -: b-"1 a [ a=.o.?1e6 [ b=.?2 3 4$1e6
(b-a) -: b-"2 a [ a=.o.?1e6 [ b=.?2 3 4$1e6
(b-a) -: b-"3 a [ a=.o.?1e6 [ b=.?2 3 4$1e6
(b-a) -: b-"_ a [ a=.o.?1e6 [ b=.?2 3 4$1e6

(a-"0 _ b) -: (($b)$"1 0 a)-($a)$,:b  [ a=.?3 1 5$1e6 [ b=.?2 7e6
(a-"_ 0 b) -: (($b)$,: a)-($a)$"1 0 b [ a=.?3 1 5$1e6 [ b=.?2 7e6


NB. ="r on non-numerics -------------------------------------------------

(a="2 0 b) -: a=($a)$b               [ a=.a.{~?2 3 4 5$256 [ b=.a.{~?        256
(a="0 2 b) -: (4 5$"1 0 a)=2 3$,:b   [ a=.a.{~?2 3    $256 [ b=.a.{~?    4 5$256
(a="2 0 b) -: (2 3$,:a)=4 5$"1 0 b   [ a=.a.{~?    4 5$256 [ b=.a.{~?2 3    $256
(a="0 2 b) -: (($b)$a)=b             [ a=.a.{~?        256 [ b=.a.{~?2 3 4 5$256

(a="2 1 b) -: a=3&#@,:"2[5#"0 b      [ a=.a.{~?2 3 4 5$256 [ b=.a.{~?2   4  $256
(a="1 2 b) -: (5#"0 a)=3&#@,:"2 b    [ a=.a.{~?2 3 4  $256 [ b=.a.{~?2   4 5$256
(a="2 1 b) -: (3&#@,:"2 a)=5#"0 b    [ a=.a.{~?2   4 5$256 [ b=.a.{~?2 3 4  $256
(a="1 2 b) -: (3&#@,:"2[5#"0 a)=b    [ a=.a.{~?2   4  $256 [ b=.a.{~?2 3 4 5$256

xx=.256$(;:'Cogito, ergo sum.'),(?&.>30$1e6),(<?3 4$100),<3j4

(a="2 0 b) -: a=($a)$b               [ a=.xx{~?2 3 4 5$256 [ b=.xx{~?        256
(a="0 2 b) -: (4 5$"1 0 a)=2 3$,:b   [ a=.xx{~?2 3    $256 [ b=.xx{~?    4 5$256
(a="2 0 b) -: (2 3$,:a)=4 5$"1 0 b   [ a=.xx{~?    4 5$256 [ b=.xx{~?2 3    $256
(a="0 2 b) -: (($b)$a)=b             [ a=.xx{~?        256 [ b=.xx{~?2 3 4 5$256

(a="2 1 b) -: a=3&#@,:"2[5#"0 b      [ a=.xx{~?2 3 4 5$256 [ b=.xx{~?2   4  $256
(a="1 2 b) -: (5#"0 a)=3&#@,:"2 b    [ a=.xx{~?2 3 4  $256 [ b=.xx{~?2   4 5$256
(a="2 1 b) -: (3&#@,:"2 a)=5#"0 b    [ a=.xx{~?2   4 5$256 [ b=.xx{~?2 3 4  $256
(a="1 2 b) -: (3&#@,:"2[5#"0 a)=b    [ a=.xx{~?2   4  $256 [ b=.xx{~?2 3 4 5$256

xx=.256$(;:'Cogito, ergo sum.'),(<"1 ?30 2$1e6),(<?3 4$100),<3j4

(a="2 0 b) -: a=($a)$b               [ a=.xx{~?2 3 4 5$256 [ b=.xx{~?        256
(a="0 2 b) -: (4 5$"1 0 a)=2 3$,:b   [ a=.xx{~?2 3    $256 [ b=.xx{~?    4 5$256
(a="2 0 b) -: (2 3$,:a)=4 5$"1 0 b   [ a=.xx{~?    4 5$256 [ b=.xx{~?2 3    $256
(a="0 2 b) -: (($b)$a)=b             [ a=.xx{~?        256 [ b=.xx{~?2 3 4 5$256

(a="2 1 b) -: a=3&#@,:"2[5#"0 b      [ a=.xx{~?2 3 4 5$256 [ b=.xx{~?2   4  $256
(a="1 2 b) -: (5#"0 a)=3&#@,:"2 b    [ a=.xx{~?2 3 4  $256 [ b=.xx{~?2   4 5$256
(a="2 1 b) -: (3&#@,:"2 a)=5#"0 b    [ a=.xx{~?2   4 5$256 [ b=.xx{~?2 3 4  $256
(a="1 2 b) -: (3&#@,:"2[5#"0 a)=b    [ a=.xx{~?2   4  $256 [ b=.xx{~?2 3 4 5$256

(a="2 0 b) -: a=($a)$b               [ a=.xx{~?2 3 4 5$256 [ b=.?        256
(a="0 2 b) -: (4 5$"1 0 a)=2 3$,:b   [ a=.xx{~?2 3    $256 [ b=.?    4 5$256
(a="2 0 b) -: (2 3$,:a)=4 5$"1 0 b   [ a=.xx{~?    4 5$256 [ b=.?2 3    $256
(a="0 2 b) -: (($b)$a)=b             [ a=.xx{~?        256 [ b=.?2 3 4 5$256

(a="2 1 b) -: a=3&#@,:"2[5#"0 b      [ a=.xx{~?2 3 4 5$256 [ b=.?2   4  $256
(a="1 2 b) -: (5#"0 a)=3&#@,:"2 b    [ a=.xx{~?2 3 4  $256 [ b=.?2   4 5$256
(a="2 1 b) -: (3&#@,:"2 a)=5#"0 b    [ a=.xx{~?2   4 5$256 [ b=.?2 3 4  $256
(a="1 2 b) -: (3&#@,:"2[5#"0 a)=b    [ a=.xx{~?2   4  $256 [ b=.?2 3 4 5$256

0 1 0 -: 'abc'='cba'
0 0 0 -: 'abc'=1 2 3
0 0 0 -: 'abc'=<'asdf'
0 0 0 -: (<'asdf')=4 5 6


NB. ~:"r on non-numerics ------------------------------------------------

(a~:"2 0 b) -: a~:($a)$b             [ a=.a.{~?2 3 4 5$256 [ b=.a.{~?        256
(a~:"0 2 b) -: (4 5$"1 0 a)~:2 3$,:b [ a=.a.{~?2 3    $256 [ b=.a.{~?    4 5$256
(a~:"2 0 b) -: (2 3$,:a)~:4 5$"1 0 b [ a=.a.{~?    4 5$256 [ b=.a.{~?2 3    $256
(a~:"0 2 b) -: (($b)$a)~:b           [ a=.a.{~?        256 [ b=.a.{~?2 3 4 5$256

(a~:"2 1 b) -: a~:3&#@,:"2[5#"0 b    [ a=.a.{~?2 3 4 5$256 [ b=.a.{~?2   4  $256
(a~:"1 2 b) -: (5#"0 a)~:3&#@,:"2 b  [ a=.a.{~?2 3 4  $256 [ b=.a.{~?2   4 5$256
(a~:"2 1 b) -: (3&#@,:"2 a)~:5#"0 b  [ a=.a.{~?2   4 5$256 [ b=.a.{~?2 3 4  $256
(a~:"1 2 b) -: (3&#@,:"2[5#"0 a)~:b  [ a=.a.{~?2   4  $256 [ b=.a.{~?2 3 4 5$256

xx=.256$(;:'Cogito, ergo sum.'),(?&.>30$1e6),(<?3 4$100),<3j4

(a~:"2 0 b) -: a~:($a)$b             [ a=.xx{~?2 3 4 5$256 [ b=.xx{~?        256
(a~:"0 2 b) -: (4 5$"1 0 a)~:2 3$,:b [ a=.xx{~?2 3    $256 [ b=.xx{~?    4 5$256
(a~:"2 0 b) -: (2 3$,:a)~:4 5$"1 0 b [ a=.xx{~?    4 5$256 [ b=.xx{~?2 3    $256
(a~:"0 2 b) -: (($b)$a)~:b           [ a=.xx{~?        256 [ b=.xx{~?2 3 4 5$256

(a~:"2 1 b) -: a~:3&#@,:"2[5#"0 b    [ a=.xx{~?2 3 4 5$256 [ b=.xx{~?2   4  $256
(a~:"1 2 b) -: (5#"0 a)~:3&#@,:"2 b  [ a=.xx{~?2 3 4  $256 [ b=.xx{~?2   4 5$256
(a~:"2 1 b) -: (3&#@,:"2 a)~:5#"0 b  [ a=.xx{~?2   4 5$256 [ b=.xx{~?2 3 4  $256
(a~:"1 2 b) -: (3&#@,:"2[5#"0 a)~:b  [ a=.xx{~?2   4  $256 [ b=.xx{~?2 3 4 5$256

xx=.256$(;:'Cogito, ergo sum.'),(<"1 ?30 2$1e6),(<?3 4$100),<3j4

(a~:"2 0 b) -: a~:($a)$b             [ a=.xx{~?2 3 4 5$256 [ b=.xx{~?        256
(a~:"0 2 b) -: (4 5$"1 0 a)~:2 3$,:b [ a=.xx{~?2 3    $256 [ b=.xx{~?    4 5$256
(a~:"2 0 b) -: (2 3$,:a)~:4 5$"1 0 b [ a=.xx{~?    4 5$256 [ b=.xx{~?2 3    $256
(a~:"0 2 b) -: (($b)$a)~:b           [ a=.xx{~?        256 [ b=.xx{~?2 3 4 5$256

(a~:"2 1 b) -: a~:3&#@,:"2[5#"0 b    [ a=.xx{~?2 3 4 5$256 [ b=.xx{~?2   4  $256
(a~:"1 2 b) -: (5#"0 a)~:3&#@,:"2 b  [ a=.xx{~?2 3 4  $256 [ b=.xx{~?2   4 5$256
(a~:"2 1 b) -: (3&#@,:"2 a)~:5#"0 b  [ a=.xx{~?2   4 5$256 [ b=.xx{~?2 3 4  $256
(a~:"1 2 b) -: (3&#@,:"2[5#"0 a)~:b  [ a=.xx{~?2   4  $256 [ b=.xx{~?2 3 4 5$256

(a~:"2 0 b) -: a~:($a)$b             [ a=.xx{~?2 3 4 5$256 [ b=.?        256
(a~:"0 2 b) -: (4 5$"1 0 a)~:2 3$,:b [ a=.xx{~?2 3    $256 [ b=.?    4 5$256
(a~:"2 0 b) -: (2 3$,:a)~:4 5$"1 0 b [ a=.xx{~?    4 5$256 [ b=.?2 3    $256
(a~:"0 2 b) -: (($b)$a)~:b           [ a=.xx{~?        256 [ b=.?2 3 4 5$256

(a~:"2 1 b) -: a~:3&#@,:"2[5#"0 b    [ a=.xx{~?2 3 4 5$256 [ b=.?2   4  $256
(a~:"1 2 b) -: (5#"0 a)~:3&#@,:"2 b  [ a=.xx{~?2 3 4  $256 [ b=.?2   4 5$256
(a~:"2 1 b) -: (3&#@,:"2 a)~:5#"0 b  [ a=.xx{~?2   4 5$256 [ b=.?2 3 4  $256
(a~:"1 2 b) -: (3&#@,:"2[5#"0 a)~:b  [ a=.xx{~?2   4  $256 [ b=.?2 3 4 5$256

1 0 1 -: 'abc'~:'cba'
1 1 1 -: 'abc'~:1 2 3
1 1 1 -: 'abc'~:<'asdf'
1 1 1 -: (<'asdf')~:4 5 6


4!:55 ;:'a agree asm b boxr c cells crank cs cshape dr er f fr frame '
4!:55 ;:'glob lag mm mrk msh pfx rag rank rk t x xx y '


